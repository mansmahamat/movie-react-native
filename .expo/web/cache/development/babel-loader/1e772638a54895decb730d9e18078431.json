{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/mansour/Desktop/React_Native_Local_Storage_YT/src/screens/MovieDetail.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TrailersItems from \"../components/TrailersItems\";\nimport Constants from \"expo-constants\";\nimport MaterialCommunityIcons from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport YoutubePlayer from \"react-native-youtube-iframe\";\nimport GenresGroup from \"../components/GenresGroup\";\nimport { connect } from \"react-redux\";\nimport { fetchMovies, addToWishList, removeFromWishlist, fetchTopRatedMovies } from \"../redux/actions\";\nimport Actor from \"../components/Actor\";\n\nvar _MovieDetail = function _MovieDetail(props) {\n  var movieReducer = props.movieReducer,\n      fetchMovies = props.fetchMovies,\n      addToWishList = props.addToWishList,\n      removeFromWishlist = props.removeFromWishlist,\n      fetchTopRatedMovies = props.fetchTopRatedMovies;\n  var movies = movieReducer.movies,\n      wishlist = movieReducer.wishlist,\n      topMovies = movieReducer.topMovies;\n  var movie = props.route.params.movie;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      trailers = _useState2[0],\n      setTrailers = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      actor = _useState4[0],\n      setActor = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      details = _useState6[0],\n      setDetails = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      modalVisible = _useState8[0],\n      setModalVisible = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      activeMovieTrailerKey = _useState10[0],\n      setActiveMovieTrailerKey = _useState10[1];\n\n  useEffect(function () {\n    axios.get(\"https://api.themoviedb.org/3/movie/\" + movie.id + \"/videos?api_key=afd804ef50f1e6b1ad6f29209e9395e6&language=fr-FR\").then(function (response) {\n      setTrailers(response.data.results);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    axios.get(\"https://api.themoviedb.org/3/movie/\" + movie.id + \"?api_key=afd804ef50f1e6b1ad6f29209e9395e6&language=fr-FR\").then(function (response) {\n      setDetails(response.data);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    axios.get(\"https://api.themoviedb.org/3/movie/\" + movie.id + \"/credits?api_key=afd804ef50f1e6b1ad6f29209e9395e6&language=fr-FR\").then(function (response) {\n      setActor(response.data.cast);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }, []);\n\n  var onTapAddToWishlist = function onTapAddToWishlist(movie) {\n    addToWishList(movie);\n  };\n\n  var onTapRemoveFromWishlist = function onTapRemoveFromWishlist(movie) {\n    removeFromWishlist(movie);\n  };\n\n  var isExist = function isExist(movie) {\n    if (wishlist.filter(function (item) {\n      return item.id === movie.id;\n    }).length > 0) {\n      return true;\n    }\n\n    return false;\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 5\n    }\n  }, React.createElement(Modal, {\n    style: {\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      width: \"100%\",\n      height: \"100%\"\n    },\n    animationType: \"slide\",\n    transparent: true,\n    visible: modalVisible,\n    onRequestClose: function onRequestClose() {\n      setModalVisible(!modalVisible);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1,\n      height: \"100%\",\n      justifyContent: \"center\",\n      backgroundColor: \"#000\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      backgroundColor: \"white\",\n      width: 48,\n      height: 48,\n      position: \"absolute\",\n      top: Constants.statusBarHeight + 10,\n      left: 20,\n      borderRadius: 10,\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return setModalVisible(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, React.createElement(MaterialCommunityIcons, {\n    name: \"close\",\n    size: 42,\n    color: \"black\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 15\n    }\n  }))), React.createElement(View, {\n    style: {\n      width: \"100%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }, React.createElement(YoutubePlayer, {\n    height: 300,\n    play: true,\n    videoId: activeMovieTrailerKey,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  })))), React.createElement(ScrollView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }\n  }, React.createElement(TouchableWithoutFeedback, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, React.createElement(MaterialCommunityIcons, {\n    onPress: function onPress() {\n      return props.navigation.pop();\n    },\n    style: {\n      position: \"absolute\",\n      top: Constants.statusBarHeight + 10,\n      left: 10,\n      zIndex: 1,\n      paddingRight: 20,\n      paddingBottom: 20\n    },\n    name: \"chevron-left\",\n    color: \"#fff\",\n    size: 30,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 11\n    }\n  })), React.createElement(TouchableWithoutFeedback, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }\n  }, isExist(movie) ? React.createElement(MaterialCommunityIcons, {\n    onPress: function onPress() {\n      return onTapRemoveFromWishlist(movie);\n    },\n    style: {\n      position: \"absolute\",\n      top: Constants.statusBarHeight + 10,\n      right: 10,\n      zIndex: 1,\n      paddingRight: 20,\n      paddingBottom: 20\n    },\n    name: \"heart\",\n    color: \"red\",\n    size: 27,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 31\n    }\n  }) : React.createElement(MaterialCommunityIcons, {\n    onPress: function onPress() {\n      return onTapAddToWishlist(movie);\n    },\n    style: {\n      position: \"absolute\",\n      top: Constants.statusBarHeight + 10,\n      right: 10,\n      zIndex: 1,\n      paddingRight: 20,\n      paddingBottom: 20\n    },\n    name: \"heart-outline\",\n    color: \"white\",\n    size: 27,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 13\n    }\n  })), React.createElement(Image, {\n    resizeMode: \"cover\",\n    style: styles.cover_image,\n    source: {\n      uri: \"https://image.tmdb.org/t/p/w500\" + movie.backdrop_path\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    style: {\n      flex: 1,\n      backgroundColor: \"pink\",\n      padding: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1,\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      marginBottom: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: {\n      flexWrap: \"wrap\",\n      flexDirection: \"column\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 15\n    }\n  }, movie.title), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 15\n    }\n  }, movie.release_date)), React.createElement(View, {\n    style: {\n      width: 48,\n      height: 48,\n      backgroundColor: \"white\",\n      borderRadius: 24,\n      justifyContent: \"center\",\n      marginTop: 20,\n      alignItems: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: movie.vote_average > 5 ? {\n      color: \"green\"\n    } : {\n      color: \"red\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 15\n    }\n  }, movie.vote_average))), React.createElement(View, {\n    style: {\n      flexWrap: \"wrap\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 11\n    }\n  }, details.genres && React.createElement(GenresGroup, {\n    data: details.genres,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 31\n    }\n  })), React.createElement(Text, {\n    style: styles.header,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 11\n    }\n  }, \"R\\xE9sum\\xE9\"), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 11\n    }\n  }, movie.overview), React.createElement(Text, {\n    style: styles.header,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 11\n    }\n  }, \"Trailers\"), React.createElement(View, {\n    style: {\n      flexWrap: \"wrap\",\n      flexDirection: \"row\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 11\n    }\n  }, trailers.map(function (item, index) {\n    return index < 2 ? React.createElement(TrailersItems, {\n      image: movie.backdrop_path,\n      key: item.key,\n      item: item,\n      setModalVisible: setModalVisible,\n      setActiveMovieTrailerKey: setActiveMovieTrailerKey,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }\n    }) : React.createElement(View, {\n      key: item.key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 20\n      }\n    });\n  })), React.createElement(Text, {\n    style: styles.header,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 11\n    }\n  }, \"Acteur\"), React.createElement(View, {\n    style: {\n      flexDirection: \"row\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 11\n    }\n  }, React.createElement(ScrollView, {\n    horizontal: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 11\n    }\n  }, actor.map(function (item, index) {\n    return index < 12 ? React.createElement(Actor, {\n      key: index,\n      actor: item,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 15\n      }\n    }) : React.createElement(View, {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 18\n      }\n    });\n  }))))));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    movieReducer: state.movieReducer\n  };\n};\n\nvar MovieDetail = connect(mapStateToProps, {\n  fetchMovies: fetchMovies,\n  addToWishList: addToWishList,\n  removeFromWishlist: removeFromWishlist,\n  fetchTopRatedMovies: fetchTopRatedMovies\n})(_MovieDetail);\nexport default MovieDetail;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginTop: Constants.statusBarHeight\n  },\n  cover_image: {\n    height: 285\n  },\n  header: {\n    fontSize: 22,\n    fontWeight: \"bold\"\n  },\n  title: {\n    fontSize: 17,\n    fontWeight: \"800\"\n  }\n});","map":{"version":3,"sources":["/Users/mansour/Desktop/React_Native_Local_Storage_YT/src/screens/MovieDetail.js"],"names":["React","useState","useEffect","axios","TrailersItems","Constants","MaterialCommunityIcons","YoutubePlayer","GenresGroup","connect","fetchMovies","addToWishList","removeFromWishlist","fetchTopRatedMovies","Actor","_MovieDetail","props","movieReducer","movies","wishlist","topMovies","movie","route","params","trailers","setTrailers","actor","setActor","details","setDetails","modalVisible","setModalVisible","activeMovieTrailerKey","setActiveMovieTrailerKey","get","id","then","response","data","results","catch","error","console","log","cast","onTapAddToWishlist","onTapRemoveFromWishlist","isExist","filter","item","length","styles","container","position","top","left","width","height","flex","justifyContent","backgroundColor","statusBarHeight","borderRadius","alignItems","navigation","pop","zIndex","paddingRight","paddingBottom","right","cover_image","uri","backdrop_path","padding","flexDirection","marginBottom","flexWrap","title","release_date","marginTop","vote_average","color","genres","header","overview","map","index","key","mapStateToProps","state","MovieDetail","StyleSheet","create","fontSize","fontWeight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport {\n  Image,\n  Modal,\n  ScrollView,\n  StyleSheet,\n  Text,\n  TouchableWithoutFeedback,\n  View,\n} from \"react-native\";\nimport TrailersItems from \"../components/TrailersItems\";\nimport Constants from \"expo-constants\";\nimport MaterialCommunityIcons from \"react-native-vector-icons/MaterialCommunityIcons\";\nimport YoutubePlayer from \"react-native-youtube-iframe\";\nimport GenresGroup from \"../components/GenresGroup\";\nimport { connect } from \"react-redux\";\nimport {\n  fetchMovies,\n  addToWishList,\n  removeFromWishlist,\n  fetchTopRatedMovies,\n} from \"../redux/actions\";\nimport Actor from \"../components/Actor\";\n\n const _MovieDetail = (props) => {\n  const {\n    movieReducer,\n    fetchMovies,\n    addToWishList,\n    removeFromWishlist,\n    fetchTopRatedMovies,\n  } = props;\n\n  const { movies, wishlist, topMovies } = movieReducer;\n  const movie = props.route.params.movie;\n\n\n  const [trailers, setTrailers] = useState([]);\n  const [actor, setActor] = useState([]);\n  const [details, setDetails] = useState([]);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [activeMovieTrailerKey, setActiveMovieTrailerKey] = useState(\"\")\n\n  useEffect(() => {\n    axios\n      .get(\n        \"https://api.themoviedb.org/3/movie/\" +\n          movie.id +\n          \"/videos?api_key=afd804ef50f1e6b1ad6f29209e9395e6&language=fr-FR\"\n      )\n      .then((response) => {\n        setTrailers(response.data.results );\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n\n    axios\n      .get(\n        \"https://api.themoviedb.org/3/movie/\" +\n          movie.id +\n          \"?api_key=afd804ef50f1e6b1ad6f29209e9395e6&language=fr-FR\"\n      )\n      .then((response) => {\n        setDetails(response.data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n\n      axios\n      .get(\n        \"https://api.themoviedb.org/3/movie/\" +\n          movie.id +\n          \"/credits?api_key=afd804ef50f1e6b1ad6f29209e9395e6&language=fr-FR\"\n      )\n      .then((response) => {\n        setActor(response.data.cast);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n\n\n\n\nconst onTapAddToWishlist = (movie) => {\n    addToWishList(movie);\n  };\n\n  const onTapRemoveFromWishlist = (movie) => {\n    removeFromWishlist(movie);\n  };\n\n  const isExist = (movie) => {\n    if (wishlist.filter((item) => item.id === movie.id).length > 0) {\n      return true;\n    }\n\n    return false;\n  };\n\n  return (\n    <View style={styles.container}>\n      <Modal\n        style={{\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          width: \"100%\",\n          height: \"100%\",\n        }}\n        animationType=\"slide\"\n        transparent={true}\n        visible={modalVisible}\n        onRequestClose={() => {\n          setModalVisible(!modalVisible);\n        }}\n      >\n        <View\n          style={{\n            flex: 1,\n            height: \"100%\",\n            justifyContent: \"center\",\n\n            backgroundColor: \"#000\",\n          }}\n        >\n          <View\n            style={{\n              backgroundColor: \"white\",\n              width: 48,\n              height: 48,\n              position: \"absolute\",\n              top: Constants.statusBarHeight + 10,\n              left: 20,\n              borderRadius: 10,\n              justifyContent: \"center\",\n              alignItems: \"center\",\n            }}\n          >\n            <TouchableWithoutFeedback onPress={() => setModalVisible(false)}>\n              <MaterialCommunityIcons name=\"close\" size={42} color=\"black\" />\n            </TouchableWithoutFeedback>\n          </View>\n          <View style={{ width: \"100%\" }}>\n            <YoutubePlayer height={300} play={true} videoId={activeMovieTrailerKey} />\n          </View>\n        </View>\n      </Modal>\n      <ScrollView>\n        <TouchableWithoutFeedback>\n          <MaterialCommunityIcons\n            onPress={() => props.navigation.pop()}\n            style={{\n              position: \"absolute\",\n              top: Constants.statusBarHeight + 10,\n              left: 10,\n              zIndex: 1,\n              paddingRight: 20,\n              paddingBottom: 20,\n            }}\n            name=\"chevron-left\"\n            color={\"#fff\"}\n            size={30}\n          />\n        </TouchableWithoutFeedback>\n\n        <TouchableWithoutFeedback>\n         { isExist(movie) ? ( <MaterialCommunityIcons\n            onPress={() => onTapRemoveFromWishlist(movie)}\n            style={{\n              position: \"absolute\",\n              top: Constants.statusBarHeight + 10,\n              right: 10,\n              zIndex: 1,\n              paddingRight: 20,\n              paddingBottom: 20,\n            }}\n            name=\"heart\"\n            color={\"red\"}\n            size={27}\n          />  ) : (\n            <MaterialCommunityIcons\n            onPress={() => onTapAddToWishlist(movie)}\n            style={{\n              position: \"absolute\",\n              top: Constants.statusBarHeight + 10,\n              right: 10,\n              zIndex: 1,\n              paddingRight: 20,\n              paddingBottom: 20,\n            }}\n            name=\"heart-outline\"\n            color={\"white\"}\n            size={27}\n          />\n          )\n        }\n        </TouchableWithoutFeedback>\n\n        <Image\n          resizeMode={\"cover\"}\n          style={styles.cover_image}\n          source={{\n            uri: \"https://image.tmdb.org/t/p/w500\" + movie.backdrop_path,\n          }}\n        />\n        <View style={{ flex: 1, backgroundColor: \"pink\", padding: 20 }}>\n          <View\n            style={{\n              flex: 1,\n              flexDirection: \"row\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              marginBottom: 10,\n            }}\n          >\n            <View style={{ flexWrap: \"wrap\", flexDirection: \"column\" }}>\n              <Text style={styles.title}>{movie.title}</Text>\n              <Text>{movie.release_date}</Text>\n            </View>\n            <View\n              style={{\n                width: 48,\n                height: 48,\n                backgroundColor: \"white\",\n                borderRadius: 24,\n                justifyContent: \"center\",\n                marginTop: 20,\n                alignItems: \"center\",\n              }}\n            >\n              <Text\n                style={\n                  movie.vote_average > 5 ? { color: \"green\" } : { color: \"red\" }\n                }\n              >\n                {movie.vote_average}\n              </Text>\n            </View>\n          </View>\n          <View style={{ flexWrap: \"wrap\" }}>\n            {/* <GenresGroup data={movie.genres} /> */}\n          {details.genres &&  <GenresGroup data={details.genres} />}\n          </View>\n\n          <Text style={styles.header}>Résumé</Text>\n          <Text>{movie.overview}</Text>\n          <Text style={styles.header}>Trailers</Text>\n          <View style={{ flexWrap: \"wrap\", flexDirection: \"row\" }}>\n            {trailers.map((item, index) => {\n              return index < 2 ? (\n                <TrailersItems\n                  image={movie.backdrop_path}\n                  key={item.key}\n                  item={item}\n                  setModalVisible={setModalVisible}\n                  setActiveMovieTrailerKey={setActiveMovieTrailerKey}\n                />\n              ) : (<View key={item.key} />);\n            })}\n          </View>\n          <Text style={styles.header}>Acteur</Text>\n          <View style={{flexDirection: \"row\"}}>\n          <ScrollView horizontal={true}>\n           {actor.map((item, index) => {\n            return index < 12 ? (\n              <Actor\n              key={index}\n              \n                actor={item}\n              />\n            ) : (<View key={index} />);\n          })}\n           </ScrollView>\n              \n            \n          </View>\n        </View>\n      </ScrollView>\n    </View>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  movieReducer: state.movieReducer,\n});\n\nconst MovieDetail = connect(mapStateToProps, {\n  fetchMovies,\n  addToWishList,\n  removeFromWishlist,\n  fetchTopRatedMovies,\n})(_MovieDetail);\n\nexport default MovieDetail;\n\nconst styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      marginTop: Constants.statusBarHeight,\n    },\n    cover_image: {\n      height: 285,\n    },\n    header: {\n      fontSize: 22,\n      fontWeight: \"bold\",\n    },\n    title: {\n      fontSize: 17,\n      fontWeight: \"800\",\n    },\n  });"]},"metadata":{},"sourceType":"module"}